@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model StudentEditVM
<div class="col-md-6 grid-margin stretch-card">
	<div class="card">
		<div class="card-body">
			<h4 class="card-title">Edit Student</h4>
			<p class="card-description"> Please change any of the following details</p>
			<form class="forms-sample" method="post" action="/Student/SaveEdit/@Model.student_id">
				<div class="form-group">
					<label for="address">Address</label>
					<input type="text" class="form-control" id="address" name="address" placeholder="Address" value="@Model.address" />
				</div>
				<div class="form-group" data-select2-id="7">
					<label for="selected_department_id">Registered Department</label>
					<select id="selected_department_id" name="selected_department_id" class="form-select" aria-label="Default select example">
						@foreach (var deps in @Model.departments)
						{
							@if(deps.DepartmentId == @Model.selected_department_id)
							{
								<option selected value="@deps.DepartmentId">@deps.name</option>
							}
							else
							{
								<option value="@deps.DepartmentId">@deps.name</option>
							}
						}
					</select>
				</div>
				 <div class="form-group">
					<label for="registered_courses">Registered Courses</label>
					<div id="registered_courses" name="registered_courses">
						@foreach (var crs in @Model.courses)
						{
							@if(@Model.registered_courses.ContainsKey(crs.name))
							{
								<div class="form-check">
									<label class="form-check-label">
										<input name="selected_courses" value="@crs.CourseId" checked type="checkbox" class="form-check-input"> @crs.name <i class="input-helper"></i>
									</label>
								</div>
							}
							else
							{
								<div class="form-check">
									<label class="form-check-label">
										<input name="selected_courses" value="@crs.CourseId" type="checkbox" class="form-check-input"> @crs.name <i class="input-helper"></i>

									</label>
								</div>
							}
				         } 
				     </div> 
				 </div> 
				 <div class="form-group">
					<button type="submit" class="btn btn-gradient-primary me-2">Submit</button>
					<button class="btn btn-light">Cancel</button>
				 </div>
				<div class="form-group">
					<a href="/Student/index" class="btn btn-gradient-primary">Go to table</a>
				</div>
			</form>
		</div>
	</div>
</div>